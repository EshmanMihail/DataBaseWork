@using ModelsLibrary.Models
@{
	var result = ViewBag.data as List<Enterprise> ?? new();
	var text = ViewBag.text ?? "";
	var column = ViewBag.column ?? "";
}
<link rel="stylesheet" type="text/css" href="/css/ForSearch.css" />
<a href='@Url.Action("Index", "Home")' class="button">Вернуться на главную</a>
<br>
<br>
<form>
	<label for="searchColumn">Выберите столбец для поиска:</label><br />
	<select name="searchColumn">
		<option value="EnterpriseName" @(column == "EnterpriseName" ? "selected" : "")>EnterpriseName</option>
		<option value="ManagementOrganization" @(column == "ManagementOrganization" ? "selected" : "")>Organization</option>
	</select><br />

	<label for="searchText">Введите текст для поиска:</label><br />
	<input type="text" name="searchText" value="@text"/><br />

	<input type="submit" value="Найти"/>
</form>

<div>
    <table border="1">
        <tr>
            <th>Код</th>
            <th>Название</th>
            <th>Организация</th>
        </tr>

        @foreach (Enterprise enterprise in result)
        {
            <tr>
                <td class="enterprise-id">@enterprise.ID</td>
                <td class="enterprise-name">@enterprise.EnterpriseName</td>
                <td class="management-organization">@enterprise.ManagementOrganization</td>
            </tr>
        }
    </table>
</div>